## 암호화(Encryption)
- 데이터를 키(key) 를 사용해 알아볼 수 없게 변환하고,같은 키 또는 대응되는 키로 다시 복원(복호화) 할 수 있는 기술
- 대표 알고리즘으로 대칭키에는 AES,DES공개키에는 RSA, ECC 등이 있다.
## 대칭키 vs. 공개키 
> 대칭키 (Symmetric Key algorithm)
<img width="1309" height="631" alt="image" src="https://github.com/user-attachments/assets/1ec3310a-a2ea-4657-bfc5-7a8af4eb47df" />

- 지금껏 널리 사용되어옴
- 중간에 누가 훔쳐보더라도 알아볼수 없음
- 그러나 어떻게 이 동일한키를 애초에 양쪽에 공유하느냐????
- 결국 한번은 한쪽에서 다른 한쪽으로 이 키를 전송해야함... << 누군가 훔쳐본다면???

> 공개키;비대칭키 (public-key cryptography)
<img width="1282" height="626" alt="image" src="https://github.com/user-attachments/assets/a27af65d-2b4d-4cbb-9d60-410f9abc0816" />

- 서로 다른 두 개의 키가 사용됨(비대칭키)
- 예를들어, A키로 암호화하면 B키로만 복호화 가능
- 네이버 서버는 이 두 키중 하나는 비밀로 보관하고(개인키), <br />다른하나를 대중들에게 공개함(공개키)
- 사용자는 공개키로 비밀번호를 암호화해서 네이버에 보냄
- 누가 가로채면?? 같은 공개키로는 암호문을 풀어낼수 없음
- 볼수있는건?? 개인키를 가진 네이버만.

## 해시(Hash) 
- 임의 길이의 데이터를 고정 길이의 값(해시값) 으로 변환하는 함수
- 복호화 불가능
- 같은 입력 → 항상 같은 해시값
- 입력이 조금만 바뀌어도 해시값은 완전히 달라짐
- 종류로는 SHA-1, SHA-256, MD5, CRC, Argon2, Bcrypt 등이 있다.

## Jeff의 의견 : 왜 비밀번호를 데이터베이스에 그대로(평문으로) 저장하면 안 되는가?
- 서버DB가 해킹당하면... 비밀번호 원본이 그대로 유출됨 
- 또한 서버 관리자가 사용자의 비밀번호를 함부로 보는 경우를 막기 위해서도 필요함
- 우리나라에선 개인정보보호법에 의거하여 위 사항을 강제함
- 「개인정보보호법」제29조 (안전조치의무) ...(중략)... <br />
① 개인정보처리자는 비밀번호, 생체인식정보 등 인증정보를 저장하거나 정보통신망을 통해 송·수신하는 경우에는 이를 안전한 암호화 기능을 적용하여 보호하여야 한다...(이하생략)

## 보안과 해시
- 원본 데이터와 다른 입력값이 (예컨대 복사본이나 키보드 입력으로 입력 받은 비밀번호가) 같은지 확인하는 작업을 둘의 해시값을 대신 비교하는 것으로 갈음할 수 있다.
- 비밀번호, 전자서명, 전자투표, 전자상거래와 같은 민감한 입력의 무결성을 검증할 때 사용됨
<br /><br />
<img width="476" height="527" alt="image" src="https://github.com/user-attachments/assets/e3d06e33-7ce1-4fa7-a787-d398a1e6f2cd" /> <br /><br />
<img width="486" height="588" alt="image" src="https://github.com/user-attachments/assets/26fb7fe1-1a79-4276-9482-457d93befe5f" /> <br /><br />
- 따라서 서버에서는 비밀번호 원본이 아닌 해시값을 저장해야 한다. 

## 눈사태 효과(Avalanche Effect)
- 원문(Plaintext)의 한 비트의 변화가 최종 암호문(Ciphertext)에 큰 변화를 주는 효과
<img width="732" height="194" alt="image" src="https://github.com/user-attachments/assets/9ee8cf67-c9f0-438f-bed3-e0acd55a9254" />

## 그럼에도 불구하고... 해킹??
> 브루트 포스(Brute Force) 방식
- 키 전수조사(exhaustive key search) 또는 무차별 대입(無差別代入) 공격은 조합 가능한 모든 문자열을 하나씩 대입해 보는 방식으로 암호를 해독하는 방법이다.
- 흔히 말하는 '노가다'의 개념
- 예를들어 7강의실의 모든 사물함은 0000~9999의 네 자리 숫자로되어있음. 최대 10000번 안에 풀수있음.
- 암호학과 관련은 없지만 재밌는 사례) <br /> 과거에 해외에서 로또 금액이 이월되면서 당첨금이 어마어마하게 불어나자 한 보험사에서 모든 로또 번호를 사서 당첨되기를 시도했다! <br /> 다만 시간 문제로 인해 전체 번호의 70%밖에(...) 모으지 못했지만 그 70% 중에 당첨 번호가 있어서 결국 당첨. 당첨금을 받아 갔다.
> 레인보우 테이블(Rainbow Table) <br />
<img width="904" height="702" alt="image" src="https://github.com/user-attachments/assets/e37a69c7-9513-45e3-8ca9-70adf72798f6" />

- 해시 함수(MD5, SHA-1, SHA-2 등)을 사용하여 만들어낼 수 있는 값들을 왕창 저장한 표. 해시 함수는 입력이 무제한이라서 모든 내용을 넣는 게 아니고, 이를테면 영어 소문자와 숫자 조합으로 일정 길이까지의 모든 문자열에 대해서 계산하는 것
-  브루트 포스 공격시 더 빠르게 시도해 보기 위해; 해시를 일일이 계산해 내느니 차라리 미리 만들어진 테이블에서 해시값만 쏙쏙 뽑아다가 집어넣으면 해시 계산하는 시간이 절약되니 공격 과정을 좀 더 빨리 끝낼 수 있음
-  계산 시간을 희생해서 공간을 압도적으로 줄일 수 있다. 예를들어 암호 하나를 찾는 시간을 10만배 늘리는 대신 테이블을 10만분의 1로 줄일 수 있는 것.
> 대비 방법
- 암호는 최소 10자리 이상 ; 암호에 특수문자를 사용하면 좀 더 좋겠지만, 특수 문자 안 쓰고 그냥 암호의 길이가 길기만 해도 된다.
- 다음과 같은 단어들만 쓰는것은 지양 <br /> 123456, abc123, password, computer, a1b2c3, qwerty, secret, 1q2w3e4r 등
- 외국계 해커 상대로는 한타를 영타 그대로 치는 것도 좋은 방법 <br /> zmffkdnem13rl! ; 중간에 시프트가 필요한 쌍자음이 있으면 금상첨화
## salt
- 유래는 소금(salt). 소금이 기본 양념이듯 원문에 가미하여 암호문을 다른 값으로 만드는 것이다.
<img width="610" height="454" alt="image" src="https://github.com/user-attachments/assets/91c92910-1efd-468e-bd6b-c112ec6e18ca" />

## Jeff의 의견 : 왜 같은 비밀번호라도 다른 해시값이 나와야 하는가?
- 같은 비밀번호여도 해시값 완전히 다름
- 레인보우 테이블 무력화

## bcrypt

## passlib
